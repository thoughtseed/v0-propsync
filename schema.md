-- WARNING: This schema is for context only and is not meant to be run.
-- Table order and constraints may not be valid for execution.

CREATE TABLE public.checklist_completion (
  id uuid NOT NULL DEFAULT uuid_generate_v4(),
  property_id uuid NOT NULL,
  basic_information integer DEFAULT 0,
  safety_security integer DEFAULT 0,
  kitchen_dining integer DEFAULT 0,
  bedrooms integer DEFAULT 0,
  bathrooms integer DEFAULT 0,
  technology integer DEFAULT 0,
  practical_living integer DEFAULT 0,
  location_lifestyle integer DEFAULT 0,
  accessibility_sustainability integer DEFAULT 0,
  overall integer DEFAULT 0,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  CONSTRAINT checklist_completion_pkey PRIMARY KEY (id),
  CONSTRAINT checklist_completion_property_id_fkey FOREIGN KEY (property_id) REFERENCES public.properties(id)
);
CREATE TABLE public.properties (
  id uuid NOT NULL DEFAULT uuid_generate_v4(),
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  property_reference text NOT NULL,
  building_name text NOT NULL,
  unit_number text NOT NULL,
  property_type text NOT NULL,
  square_meters numeric,
  bedrooms integer NOT NULL,
  bathrooms integer NOT NULL,
  max_occupancy integer NOT NULL,
  status text NOT NULL DEFAULT 'pending'::text,
  user_id uuid NOT NULL,
  CONSTRAINT properties_pkey PRIMARY KEY (id),
  CONSTRAINT properties_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id)
);
CREATE TABLE public.properties_complete (
  id uuid NOT NULL DEFAULT uuid_generate_v4(),
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  property_reference text NOT NULL,
  building_name text NOT NULL,
  unit_number text NOT NULL,
  property_type text NOT NULL,
  square_meters numeric,
  bedrooms integer NOT NULL,
  bathrooms integer NOT NULL,
  max_occupancy integer NOT NULL,
  status text NOT NULL DEFAULT 'pending'::text CHECK (status = ANY (ARRAY['active'::text, 'maintenance'::text, 'inactive'::text, 'pending'::text])),
  user_id uuid NOT NULL,
  full_address text,
  year_built text,
  year_renovated text,
  description text,
  floor_plan_url text,
  primary_photo text,
  smoke_detectors jsonb,
  fire_extinguisher_location text,
  fire_extinguisher_expiry text,
  emergency_exit_plan boolean,
  first_aid_location text,
  door_lock_type text,
  smart_lock_code text,
  building_security text,
  cctv_coverage jsonb,
  emergency_contacts text,
  window_security text,
  balcony_safety text,
  child_safety_features jsonb,
  major_appliances jsonb,
  small_appliances jsonb,
  cookware_inventory text,
  dishware_count text,
  dining_capacity integer,
  water_filtration text,
  coffee_tea_facilities text,
  special_features text,
  waste_disposal text,
  pantry_staples jsonb,
  counter_material text,
  kitchen_photos jsonb,
  bed_configurations jsonb,
  extra_bedding_location text,
  mattress_type text,
  pillow_details text,
  closet_details text,
  blackout_curtains text,
  bedroom_electronics jsonb,
  furniture_inventory text,
  bedroom_amenities jsonb,
  shower_bath_config text,
  towel_details text,
  toiletries_provided jsonb,
  hair_dryer_available boolean,
  hair_dryer_details text,
  water_pressure text,
  hot_water_system text,
  ventilation text,
  bathroom_special_features jsonb,
  bathroom_accessibility_features jsonb,
  wifi_network text,
  wifi_password text,
  internet_speed text,
  smart_home_features jsonb,
  router_location text,
  tv_details text,
  streaming_services text,
  speaker_systems text,
  remote_controls jsonb,
  charging_stations text,
  backup_solutions text,
  washer_details text,
  dryer_details text,
  detergent_provided text,
  iron_board_available boolean,
  drying_rack_location text,
  laundry_basket_available boolean,
  building_laundry_info text,
  vacuum_details text,
  cleaning_supplies jsonb,
  cleaning_schedule text,
  special_instructions text,
  stain_removal_kit text,
  ac_units_details text,
  heating_system text,
  thermostat_instructions text,
  ventilation_systems text,
  air_purifiers text,
  electrical_panel_location text,
  public_transport text,
  nearby_locations jsonb,
  walking_score text,
  neighborhood_description text,
  restaurants jsonb,
  grocery_shopping text,
  tourist_attractions jsonb,
  emergency_services text,
  local_tips text,
  weather_patterns text,
  safety_assessment text,
  step_free_access boolean,
  elevator_accessibility text,
  doorway_widths text,
  bathroom_features jsonb,
  kitchen_height text,
  visual_features jsonb,
  auditory_features jsonb,
  energy_rating text,
  renewable_features text,
  recycling_instructions text,
  efficient_appliances jsonb,
  water_conservation jsonb,
  eco_products jsonb,
  sustainable_materials text,
  basic_information_completion integer DEFAULT 0,
  safety_security_completion integer DEFAULT 0,
  kitchen_dining_completion integer DEFAULT 0,
  bedrooms_completion integer DEFAULT 0,
  bathrooms_completion integer DEFAULT 0,
  technology_completion integer DEFAULT 0,
  practical_living_completion integer DEFAULT 0,
  location_lifestyle_completion integer DEFAULT 0,
  accessibility_sustainability_completion integer DEFAULT 0,
  overall_completion integer DEFAULT 0,
  CONSTRAINT properties_complete_pkey PRIMARY KEY (id),
  CONSTRAINT properties_complete_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id)
);
CREATE TABLE public.property_accessibility (
  id uuid NOT NULL DEFAULT uuid_generate_v4(),
  property_id uuid NOT NULL,
  step_free_access text,
  elevator_accessibility text,
  doorway_widths text,
  bathroom_features ARRAY,
  kitchen_height text,
  visual_features ARRAY,
  auditory_features ARRAY,
  energy_rating text,
  renewable_features text,
  recycling_instructions text,
  efficient_appliances ARRAY,
  water_conservation ARRAY,
  eco_products ARRAY,
  sustainable_materials text,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  CONSTRAINT property_accessibility_pkey PRIMARY KEY (id),
  CONSTRAINT property_accessibility_property_id_fkey FOREIGN KEY (property_id) REFERENCES public.properties(id)
);
CREATE TABLE public.property_basic_info (
  id uuid NOT NULL DEFAULT uuid_generate_v4(),
  property_id uuid NOT NULL,
  full_address text NOT NULL,
  year_built text,
  year_renovated text,
  description text NOT NULL,
  floor_plan_url text,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  CONSTRAINT property_basic_info_pkey PRIMARY KEY (id),
  CONSTRAINT property_basic_info_property_id_fkey FOREIGN KEY (property_id) REFERENCES public.properties(id)
);
CREATE TABLE public.property_bathrooms (
  id uuid NOT NULL DEFAULT uuid_generate_v4(),
  property_id uuid NOT NULL,
  shower_bath_config text,
  towel_details text,
  toiletries_provided ARRAY,
  hair_dryer_available boolean,
  hair_dryer_details text,
  water_pressure text,
  hot_water_system text,
  ventilation text,
  bathroom_special_features ARRAY,
  bathroom_accessibility_features ARRAY,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  CONSTRAINT property_bathrooms_pkey PRIMARY KEY (id),
  CONSTRAINT property_bathrooms_property_id_fkey FOREIGN KEY (property_id) REFERENCES public.properties(id)
);
CREATE TABLE public.property_bedrooms (
  id uuid NOT NULL DEFAULT uuid_generate_v4(),
  property_id uuid NOT NULL,
  bed_configurations jsonb DEFAULT '[]'::jsonb,
  extra_bedding_location text,
  mattress_type text,
  pillow_details text,
  closet_details text,
  blackout_curtains boolean,
  bedroom_electronics ARRAY,
  furniture_inventory text,
  bedroom_amenities ARRAY,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  CONSTRAINT property_bedrooms_pkey PRIMARY KEY (id),
  CONSTRAINT property_bedrooms_property_id_fkey FOREIGN KEY (property_id) REFERENCES public.properties(id)
);
CREATE TABLE public.property_drafts (
  id uuid NOT NULL DEFAULT uuid_generate_v4(),
  user_id uuid NOT NULL,
  data jsonb NOT NULL,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  CONSTRAINT property_drafts_pkey PRIMARY KEY (id),
  CONSTRAINT property_drafts_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id)
);
CREATE TABLE public.property_images (
  id uuid NOT NULL DEFAULT uuid_generate_v4(),
  property_id uuid NOT NULL,
  url text NOT NULL,
  type text DEFAULT 'photo'::text,
  display_order integer DEFAULT 0,
  created_at timestamp with time zone DEFAULT now(),
  CONSTRAINT property_images_pkey PRIMARY KEY (id),
  CONSTRAINT property_images_property_id_fkey FOREIGN KEY (property_id) REFERENCES public.properties(id)
);
CREATE TABLE public.property_kitchen (
  id uuid NOT NULL DEFAULT uuid_generate_v4(),
  property_id uuid NOT NULL,
  major_appliances ARRAY,
  small_appliances ARRAY,
  cookware_inventory text,
  dishware_count text,
  dining_capacity integer,
  water_filtration text,
  coffee_tea_facilities text,
  special_features text,
  waste_disposal text,
  pantry_staples ARRAY,
  counter_material text,
  kitchen_photos ARRAY,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  CONSTRAINT property_kitchen_pkey PRIMARY KEY (id),
  CONSTRAINT property_kitchen_property_id_fkey FOREIGN KEY (property_id) REFERENCES public.properties(id)
);
CREATE TABLE public.property_location (
  id uuid NOT NULL DEFAULT uuid_generate_v4(),
  property_id uuid NOT NULL,
  public_transport text,
  nearby_locations jsonb DEFAULT '[]'::jsonb,
  walking_score text,
  neighborhood_description text,
  restaurants ARRAY,
  grocery_shopping text,
  tourist_attractions ARRAY,
  emergency_services text,
  local_tips text,
  weather_patterns text,
  safety_assessment text,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  CONSTRAINT property_location_pkey PRIMARY KEY (id),
  CONSTRAINT property_location_property_id_fkey FOREIGN KEY (property_id) REFERENCES public.properties(id)
);
CREATE TABLE public.property_practical (
  id uuid NOT NULL DEFAULT uuid_generate_v4(),
  property_id uuid NOT NULL,
  washer_details text,
  dryer_details text,
  detergent_provided boolean,
  iron_board_available boolean,
  drying_rack_location text,
  laundry_basket_available boolean,
  building_laundry_info text,
  vacuum_details text,
  cleaning_supplies ARRAY,
  cleaning_schedule text,
  special_instructions text,
  stain_removal_kit boolean,
  ac_units_details text,
  heating_system text,
  thermostat_instructions text,
  ventilation_systems text,
  air_purifiers text,
  electrical_panel_location text,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  CONSTRAINT property_practical_pkey PRIMARY KEY (id),
  CONSTRAINT property_practical_property_id_fkey FOREIGN KEY (property_id) REFERENCES public.properties(id)
);
CREATE TABLE public.property_safety (
  id uuid NOT NULL DEFAULT uuid_generate_v4(),
  property_id uuid NOT NULL,
  smoke_detectors jsonb DEFAULT '[]'::jsonb,
  fire_extinguisher_location text,
  fire_extinguisher_expiry text,
  emergency_exit_plan boolean,
  first_aid_location text,
  door_lock_type text,
  smart_lock_code text,
  building_security text,
  cctv_coverage ARRAY,
  emergency_contacts text,
  window_security text,
  balcony_safety text,
  child_safety_features ARRAY,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  CONSTRAINT property_safety_pkey PRIMARY KEY (id),
  CONSTRAINT property_safety_property_id_fkey FOREIGN KEY (property_id) REFERENCES public.properties(id)
);
CREATE TABLE public.property_technology (
  id uuid NOT NULL DEFAULT uuid_generate_v4(),
  property_id uuid NOT NULL,
  wifi_network text,
  wifi_password text,
  internet_speed text,
  smart_home_features ARRAY,
  router_location text,
  tv_details text,
  streaming_services text,
  speaker_systems text,
  remote_controls ARRAY,
  charging_stations text,
  backup_solutions text,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  CONSTRAINT property_technology_pkey PRIMARY KEY (id),
  CONSTRAINT property_technology_property_id_fkey FOREIGN KEY (property_id) REFERENCES public.properties(id)
);
CREATE TABLE public.users (
  id uuid NOT NULL,
  email text NOT NULL,
  role text NOT NULL DEFAULT 'readonly'::text,
  full_name text NOT NULL,
  created_at timestamp with time zone DEFAULT now(),
  CONSTRAINT users_pkey PRIMARY KEY (id),
  CONSTRAINT users_id_fkey FOREIGN KEY (id) REFERENCES auth.users(id)
);
